<div *ngIf="!restaurant">
  loading...
</div>
<div *ngIf="restaurant" class="mb-3">
  <div class="mt-5 space-x-2 flex text-sm leading-5 text-gray-700 px-2 md:px-0">
    <a routerLink="/">Home</a>
    <div>/</div>
    <div>{{restaurant.name}}</div>
  </div>
  <div>
    <!-- <form [formGroup]="form">
      <input type="text" placeholder="name" formControlName="name">
    </form> -->
  </div>
  <div class="flex justify-between px-2 md:px-0">
    <div>
      <div class="mt-2 text-3xl leading-9 font-bold">
        {{restaurant.name}}
      </div>
      <div class="mt-1 text-gray-700">{{restaurant.tags.join(", ")}}</div>
    </div>
    <div>
      <div class="flex justify-end">
        <svg
          *ngFor="let i of numSequence(restaurant.stars); trackBy: trackStarFn"
          xmlns="http://www.w3.org/2000/svg"
          class="h-7 w-7 text-yellow-300"
          viewBox="-2 0 20 20"
          fill="currentColor"
        >
          <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
        </svg>
      </div>
      <div class="text-sm text-gray-600 text-right">
        {{restaurant.reviewers}} Reviewed
      </div>
    </div>
  </div>
  <div class="mt-5 block space-y-2 md:space-y-0 md:grid md:grid-rows-2 md:grid-flow-col md:gap-3">
    <div class="aspect-w-16 aspect-h-9 row-span-2 col-span-2">
      <img
        loading="lazy"
        class="rounded-none md:rounded-2xl object-cover bg-gray-100"
        [src]="restaurant.images[0]"
        [alt]="restaurant.name"
      />
    </div>
    <div class="aspect-w-16 aspect-h-9">
      <img
        loading="lazy"
        class="rounded-none md:rounded-2xl object-cover bg-gray-100"
        [src]="restaurant.images[1]"
        [alt]="restaurant.name"
      />
    </div>
    <div class="aspect-w-16 aspect-h-9 rounded-none md:rounded-2xl overflow-hidden">
      <div class="">
        <img
          loading="lazy"
          [src]="restaurant.images[2]"
          [alt]="restaurant.name"
          class="object-cover bg-gray-100"
        />
      </div>
      <div class="text-white bg-black bg-opacity-60 flex justify-center items-center">
        View Gallery
      </div>
    </div>
  </div>
  <div class="flex justify-between mt-14 px-2 md:px-0">
    <div class="text-3xl leading-9 font-bold">Overview</div>
    <!-- <div>
      <RestaurantUserRating restaurant={restaurant}></RestaurantUserRating>
      <div class="text-sm text-gray-600 text-right">Your star</div>
    </div> -->
  </div>
  <div class="mt-14 px-2 md:px-0">
    <div class="text-lg leading-6 font-semibold">Contact</div>
    <div class="mt-2">
      <a
        class="text-red-600 hover:underline"
        [href]="'tel:' + restaurant.phoneNumber"
      >
        {{restaurant.phoneNumber}}
      </a>
    </div>
    <div class="mt-1 leading-6">{{restaurant.address}}</div>
    <div class="mt-16">
      <div class="text-lg leading-6 font-semibold">Average Cost</div>
      <div class="mt-2 leading-6">
        {{restaurant.averageCost * 2}} baht for two people (approx.)
      </div>
    </div>
    <div class="mt-16">
      <div class="text-lg leading-6 font-semibold">More Info</div>
      <div class="space-y-2 mt-2">
        <div *ngFor="let facility of restaurant.facilities; trackBy: trackFacilityFn" class="flex space-x-2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 text-green-500"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth="2"
              d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
          <div>{{facility}}</div>
        </div>
      </div>
    </div>
  </div>
</div>
